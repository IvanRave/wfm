if(typeof Blob!="function")var Blob=function(n){"use strict";var t=n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder||function(n){var s=function(n){return Object.prototype.toString.call(n).match(/^\[object\s(.*)\]$/)[1]},h=function(){this.data=[]},t=function(n,t,i){this.data=n,this.size=n.length,this.type=t,this.encoding=i},u=h.prototype,f=t.prototype,c=n.FileReaderSync,l=function(n){this.code=this[this.name=n]},a="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),e=a.length,i=n.URL||n.webkitURL||n,v=i.createObjectURL,y=i.revokeObjectURL,o=i,p=n.btoa,w=n.atob,b=!1,k=function(n){b=!n},d=n.ArrayBuffer,r=n.Uint8Array;for(t.fake=f.fake=!0;e--;)l.prototype[a[e]]=e+1;try{r&&k.apply(0,new r(1))}catch(tt){}return i.createObjectURL||(o=n.URL={}),o.createObjectURL=function(n){var u=n.type,r;return(u===null&&(u="application/octet-stream"),n instanceof t)?(r="data:"+u,n.encoding==="base64")?r+";base64,"+n.data:n.encoding==="URI"?r+","+decodeURIComponent(n.data):p?r+";base64,"+p(n.data):r+","+encodeURIComponent(n.data):v?v.call(i,n):void 0},o.revokeObjectURL=function(n){n.substring(0,5)!=="data:"&&y&&y.call(i,n)},u.append=function(n){var i=this.data,e;if(r&&(n instanceof d||n instanceof r))if(b)i.push(String.fromCharCode.apply(String,new r(n)));else for(var o="",f=new r(n),u=0,h=f.length;u<h;u++)o+=String.fromCharCode(f[u]);else if(s(n)==="Blob"||s(n)==="File")if(c)e=new c,i.push(e.readAsBinaryString(n));else throw new l("NOT_READABLE_ERR");else n instanceof t?n.encoding==="base64"&&w?i.push(w(n.data)):n.encoding==="URI"?i.push(decodeURIComponent(n.data)):n.encoding==="raw"&&i.push(n.data):(typeof n!="string"&&(n+=""),i.push(unescape(encodeURIComponent(n))))},u.getBlob=function(n){return arguments.length||(n=null),new t(this.data.join(""),n,"raw")},u.toString=function(){return"[object BlobBuilder]"},f.slice=function(n,i,r){var u=arguments.length;return u<3&&(r=null),new t(this.data.slice(n,u>1?i:this.data.length),r,this.encoding)},f.toString=function(){return"[object Blob]"},h}(n);return function(n,i){var e=i?i.type||"":"",u=new t,r,f;if(n)for(r=0,f=n.length;r<f;r++)u.append(n[r]);return u.getBlob(e)}}(self);